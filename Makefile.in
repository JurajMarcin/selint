selint: src/y.tab.o src/lex.yy.o src/selint.o
	gcc src/lex.yy.o src/y.tab.o src/selint.o -o $@ 

src/y.tab.o: src/y.tab.c
	gcc -c src/y.tab.c -o $@

src/lex.yy.o: src/lex.yy.c src/y.tab.h
	gcc -c src/lex.yy.c -o $@

src/y.tab.c: src/selint.y
	yacc -o $@ -d src/selint.y

src/lex.yy.c: src/selint.l
	lex -o $@ src/selint.l

src/y.tab.h: src/y.tab.c

src/selint.o: src/selint_main.c src/y.tab.h
	gcc -c src/selint_main.c -o $@

clean:
	rm -f src/*.o src/y.tab.c src/lex.yy.c selint
